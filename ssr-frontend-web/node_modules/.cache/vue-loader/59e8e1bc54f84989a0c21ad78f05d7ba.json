{"remainingRequest":"C:\\Users\\夏海淞\\WebstormProjects\\ssr-frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\夏海淞\\WebstormProjects\\ssr-frontend-web\\src\\components\\OrderBoard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\夏海淞\\WebstormProjects\\ssr-frontend-web\\src\\components\\OrderBoard.vue","mtime":1610608077877},{"path":"C:\\Users\\夏海淞\\WebstormProjects\\ssr-frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1609653293369},{"path":"C:\\Users\\夏海淞\\WebstormProjects\\ssr-frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1609653295176},{"path":"C:\\Users\\夏海淞\\WebstormProjects\\ssr-frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1609653293369},{"path":"C:\\Users\\夏海淞\\WebstormProjects\\ssr-frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1609653308845}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQoJbmFtZTogIk9yZGVyQm9hcmQiLA0KCWRhdGEoKSB7DQoJCWxldCB1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX1VSTCArICd1c2Vycy9nZXQvb3JkZXIvJzsNCgkJLy8gbGV0IHVybCA9IHRoaXMuQkFTRV9VUkwgKyAndXNlcnMvZ2V0L29yZGVyLyc7DQoJCWxldCBhbnMgPSB7T3JkZXJEYXRhOiBbXX07DQoJCWxldCBkZXZpY2VTZXQgPSBuZXcgU2V0KCk7DQoJCWZldGNoKHVybCwgew0KCQkJY3JlZGVudGlhbHM6ICdpbmNsdWRlJywNCgkJCWhlYWRlcnM6IHsNCgkJCQknY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLA0KCQkJfSwNCgkJCW1ldGhvZDogJ0dFVCcsDQoJCQltb2RlOiAnY29ycycsDQoJCX0pDQoJCQkudGhlbihyZXNwID0+IHJlc3AuanNvbigpKQ0KCQkJLnRoZW4ocmVzcCA9PiB7DQoJCQkJaWYgKHJlc3Auc3RhdHVzID09PSAnb2snKSB7DQoJCQkJCWNvbnNvbGUubG9nKHJlc3ApOw0KCQkJCQlhbnMuT3JkZXJEYXRhID0gcmVzcC5jb250ZW50Ow0KCQkJCQlmb3IgKGxldCBvcmRlciBvZiBhbnMuT3JkZXJEYXRhKSB7DQoJCQkJCQlpZiAoIWRldmljZVNldC5oYXMob3JkZXIuZGV2aWNlKSkgew0KCQkJCQkJCWRldmljZVNldC5hZGQob3JkZXIuZGV2aWNlKTsNCgkJCQkJCX0NCgkJCQkJCW9yZGVyLnN5bm9wc2lzID0gb3JkZXIuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDUwKTsNCgkJCQkJfQ0KCQkJCQkvLyBhbnMuZmlsdGVyRGV2aWNlPUFycmF5LmZyb20oZGV2aWNlU2V0KTsNCgkJCQkJYW5zLmZpbHRlckRldmljZSA9IFtdOw0KCQkJCQlkZXZpY2VTZXQuZm9yRWFjaChkZXZpY2UgPT4gYW5zLmZpbHRlckRldmljZS5wdXNoKHt0ZXh0OiBkZXZpY2UsIHZhbHVlOiBkZXZpY2V9KSk7DQoJCQkJCWNvbnNvbGUubG9nKGFucy5PcmRlckRhdGEpOw0KCQkJCX0gZWxzZSB7DQoJCQkJCWxldCByZWFzb24gPSByZXNwLnR5cGU7DQoJCQkJCWxldCBtZXNzYWdlOw0KCQkJCQlzd2l0Y2ggKHJlYXNvbikgew0KCQkJCQkJY2FzZSAnQWxyZWFkeSBsb2dvdXQuJzoNCgkJCQkJCQltZXNzYWdlID0gJ+eUqOaIt+W3sueZu+WHuuOAgic7DQoJCQkJCQkJYnJlYWs7DQoJCQkJCQlkZWZhdWx0Og0KCQkJCQkJCW1lc3NhZ2UgPSAn5pyq55+l6ZSZ6K+v44CCJw0KCQkJCQl9DQoJCQkJCXRoaXMuJG1lc3NhZ2Uoew0KCQkJCQkJdHlwZTogJ2Vycm9yJywNCgkJCQkJCW1lc3NhZ2UsDQoJCQkJCQlzaG93Q2xvc2U6IHRydWUNCgkJCQkJfSk7DQoJCQkJfQ0KCQkJfSkNCgkJCS5jYXRjaChyZWFzb24gPT4gew0KCQkJCWNvbnNvbGUubG9nKCdyZWFzb246JywgcmVhc29uKTsNCgkJCQl0aGlzLiRtZXNzYWdlKHsNCgkJCQkJdHlwZTogJ2Vycm9yJywNCgkJCQkJbWVzc2FnZTogJ+e9kee7nOaVhemanOaIluacjeWKoeWZqOS4jeWPr+eUqOOAgicsDQoJCQkJCXNob3dDbG9zZTogdHJ1ZQ0KCQkJCX0pOw0KCQkJfSk7DQoJCXJldHVybiBhbnM7DQoJfSwNCgltZXRob2RzOiB7DQoJCWZpbHRlckhhbmRsZXIodmFsdWUsIHJvdywgY29sdW1uKSB7DQoJCQljb25zdCBwcm9wZXJ0eSA9IGNvbHVtblsncHJvcGVydHknXTsNCgkJCXJldHVybiByb3dbcHJvcGVydHldID09PSB2YWx1ZTsNCgkJfSwNCgl9LA0KfQ0K"},{"version":3,"sources":["OrderBoard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderBoard.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div id=\"OrderBoard\">\r\n\t\t<el-table :data=\"OrderData\" stripe style=\"width: 100%\">\r\n\t\t\t<el-table-column\r\n\t\t\t\tprop=\"device\"\r\n\t\t\t\tlabel=\"设备名\"\r\n\t\t\t\t:filters=\"$data.filterDevice\"\r\n\t\t\t\t:filter-method=\"filterHandler\"\r\n\t\t\t\tsortable>\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<i class=\"el-icon-monitor\"></i>\r\n\t\t\t\t\t<span style=\"margin-left: 10px\">{{ scope.row.device }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\tprop=\"type\"\r\n\t\t\t\tlabel=\"工单类型\"\r\n\t\t\t\t:filters=\"[\r\n\t\t\t\t\t{text:'物理损坏',value:'物理损坏'},\r\n\t\t\t\t\t{text:'无法启动',value:'无法启动'},\r\n\t\t\t\t\t{text:'无法进出',value:'无法进出'},\r\n\t\t\t\t\t{text:'其他原因',value:'其他原因'},\r\n\t\t\t\t]\"\r\n\t\t\t\t:filter-method=\"filterHandler\"\r\n\t\t\t\tsortable>\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span>{{ scope.row.type }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\tprop=\"synopsis\"\r\n\t\t\t\tlabel=\"描述\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-popover trigger=\"hover\" placement=\"top\">\r\n\t\t\t\t\t\t<p>完整描述：{{ scope.row.description }}</p>\r\n\t\t\t\t\t\t<div slot=\"reference\" class=\"synopsis-wrapper\">\r\n\t\t\t\t\t\t\t<el-tag size=\"medium\">{{ scope.row.synopsis }}</el-tag>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</el-popover>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"OrderBoard\",\r\n\tdata() {\r\n\t\tlet url = process.env.VUE_APP_URL + 'users/get/order/';\r\n\t\t// let url = this.BASE_URL + 'users/get/order/';\r\n\t\tlet ans = {OrderData: []};\r\n\t\tlet deviceSet = new Set();\r\n\t\tfetch(url, {\r\n\t\t\tcredentials: 'include',\r\n\t\t\theaders: {\r\n\t\t\t\t'content-type': 'application/json',\r\n\t\t\t},\r\n\t\t\tmethod: 'GET',\r\n\t\t\tmode: 'cors',\r\n\t\t})\r\n\t\t\t.then(resp => resp.json())\r\n\t\t\t.then(resp => {\r\n\t\t\t\tif (resp.status === 'ok') {\r\n\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\tans.OrderData = resp.content;\r\n\t\t\t\t\tfor (let order of ans.OrderData) {\r\n\t\t\t\t\t\tif (!deviceSet.has(order.device)) {\r\n\t\t\t\t\t\t\tdeviceSet.add(order.device);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\torder.synopsis = order.description.substring(0, 50);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// ans.filterDevice=Array.from(deviceSet);\r\n\t\t\t\t\tans.filterDevice = [];\r\n\t\t\t\t\tdeviceSet.forEach(device => ans.filterDevice.push({text: device, value: device}));\r\n\t\t\t\t\tconsole.log(ans.OrderData);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet reason = resp.type;\r\n\t\t\t\t\tlet message;\r\n\t\t\t\t\tswitch (reason) {\r\n\t\t\t\t\t\tcase 'Already logout.':\r\n\t\t\t\t\t\t\tmessage = '用户已登出。';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tmessage = '未知错误。'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage,\r\n\t\t\t\t\t\tshowClose: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(reason => {\r\n\t\t\t\tconsole.log('reason:', reason);\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\tmessage: '网络故障或服务器不可用。',\r\n\t\t\t\t\tshowClose: true\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\treturn ans;\r\n\t},\r\n\tmethods: {\r\n\t\tfilterHandler(value, row, column) {\r\n\t\t\tconst property = column['property'];\r\n\t\t\treturn row[property] === value;\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}